
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" template="/templates/generic.xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:logica="http://java.sun.com/jsf/composite/logica" xmlns:hh="http://cgi.com/jsf/html" xmlns:p="http://primefaces.org/ui">

<ui:define name="metadata">
	<f:metadata>
		<f:event type="preRenderView" listener="#{jsfCtrl.prepareUiAccess('mainForm')}" />
		<f:attribute name="entity" value="shopList" />
	</f:metadata>
</ui:define>

<ui:define name="title"><h:outputText value="#{jsfCtrl.title}" /></ui:define>

<ui:define name="body">
	<div class="actions topActions">
	<table style="width: 100%">
		<tr>
			<td width="1%" style="text-align: left; white-space: nowrap;">
				<div id="advanced-actions">
	    			<h:panelGroup rendered="#{commentCtrl.commentsEnabled}">
						<h:commandLink id="commentAction" styleClass="btn_comment" value="#{commentCtrl.commentsCount('shopList', jsfCtrl.entity.primaryKey.encodedValue)}" title="#{hh:label('labels', 'boutons.comment')}" onclick="commentPage();">
							<f:ajax event="click" execute="@none" render="comment-list" />
						</h:commandLink>
	    				<ui:include src="../includes/comment.xhtml" />
	    			</h:panelGroup>
					<h:outputText value=" "/>
					<h:commandButton id="printAction" styleClass="btn_print" image="../static/img/buttons/print.png" title="#{hh:label('labels', 'boutons.print')}" onclick="window.print(); return false;" />
					<h:outputText value=" "/>
					<h:panelGroup id="socialActions" rendered="#{jsfCtrl.socialPanelEnabled}">
<div class="g-plusone" data-size="standard" data-annotation="none"></div>

<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
					</h:panelGroup>
				</div>
			</td>
			<td width="99%" style="text-align: right; white-space: nowrap;">
				<h:commandButton id="validateAction" rendered="#{!jsfCtrl.noValidateButton}" styleClass="btn_medium" value="#{hh:label('labels', 'boutons.valider')}" action="#{jsfCtrl.validate}"  onclick="if ($('#mainForm').submitted) { alert('Traitement en cours. Veuillez patienter...');return false;} else { $('#mainForm').submitted = true; return true; }" />
				<h:outputText value=" "/>
				<h:commandButton id="cancelAction" immediate="true" styleClass="btn_medium" value="#{hh:label('labels', 'boutons.annuler')}" action="#{jsfCtrl.cancel}" onclick="return checkDirtyState(this);" />
			</td>
		</tr>
	</table>
	</div>

<h:panelGroup id="shopList" rendered="#{jsfCtrl.isVisible('shopList')}" layout="none">

<table class="group_table">

	<tr>
	
		<td class="group_table_col_1">

<h:panelGroup id="shopListInfos" rendered="#{jsfCtrl.isVisible('shopListInfos')}" layout="none">

<table class="group_table">

	<tr>
	
		<td class="group_table_col_1">


<ui:fragment rendered="#{jsfCtrl.isVisible('shopList.name')}">

<table class="#{!jsfCtrl.isValid('mainForm:shopListInfos_shopList_name') ? 'error' : ''}">

<tr><td class="colFieldSetLeft">

<h:outputLabel escape="false" value="#{jsfCtrl.getLabel('shopList.name', 'shopListInfos.shopList.name')}" title="#{hh:label('tooltips', 'shopListInfos.shopList.name')}"/>
<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopList.name')}"/>

</td>
<td class="colFieldSetMid">
<h:outputLabel value=":" />
</td>
<td class="colFieldSetRight">

<h:inputText style="" disabled="#{jsfCtrl.readonly('shopList.name')}" id="shopListInfos_shopList_name" value="#{jsfCtrl.entity.name}" label="#{jsfCtrl.getLabel('shopList.name', 'shopList.name')}" maxlength="100" onkeypress="markAsDirty()">
	<f:validateRequired disabled="#{param['skipRequired'] == true}" />
	<f:validateLength maximum="100" />
</h:inputText>


<h:message for="shopListInfos_shopList_name" styleClass="errorLabel" />

</td></tr></table>

</ui:fragment>


	
		</td>

	</tr>

	<tr>
	
		<td class="group_table_col_1">

<h:panelGroup id="shopListInfos2" rendered="#{jsfCtrl.isVisible('shopListInfos2')}" layout="none">

<table class="group_table">

	<tr>
	
		<td class="group_table_col_2">


<ui:fragment rendered="#{jsfCtrl.isVisible('shopList.createDate')}">

<table class="#{!jsfCtrl.isValid('mainForm:shopListInfos2_shopList_createDate:dateInput') ? 'error' : ''}">

<tr><td class="colFieldSetLeft">

<h:outputLabel escape="false" value="#{jsfCtrl.getLabel('shopList.createDate', 'shopListInfos2.shopList.createDate')}" title="#{hh:label('tooltips', 'shopListInfos2.shopList.createDate')}"/>
<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopList.createDate')}"/>

</td>
<td class="colFieldSetMid">
<h:outputLabel value=":" />
</td>
<td class="colFieldSetRight">

<logica:datePicker disabled="#{jsfCtrl.readonly('shopList.createDate')}" rendered="true" id="shopListInfos2_shopList_createDate" value="#{jsfCtrl.entity.createDate}" size="10" converter="customDateTimeConverter" label="#{jsfCtrl.getLabel('shopList.createDate', 'shopList.createDate')}" onchange="markAsDirty()">

</logica:datePicker>


<h:message for="shopListInfos2_shopList_createDate:dateInput" styleClass="errorLabel" />

</td></tr></table>

</ui:fragment>


	
		</td>
	
		<td class="group_table_col_2">
<ui:fragment rendered="#{jsfCtrl.isVisible('shopArticleLUser')}">
				<table>
					<tr>
						<td class="colFieldSetLeft">
								
<h:outputLabel escape="false" value="#{jsfCtrl.getLabel('shopArticleLUser', 'shopListInfos2.shopArticleLUser')}" title="#{hh:label('tooltips', 'shopListInfos2.shopArticleLUser')}"/>

<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopArticleLUser')}"/>


						</td>
						<td class="colFieldSetMid"><h:outputLabel value=":" /></td>
						<td class="colFieldSetRight">
			 <h:panelGroup>
	<span class="link-actions-container">
	<h:commandLink styleClass="link-attach" rendered="#{!jsfCtrl.readonly('shopArticleLUser')}" action="#{jsfCtrl.prepareSingleAction('shopUser', 1, 1, jsfCtrl.entity.links.shopArticleLUser.key, 'shopArticleLUser')}">
		<h:graphicImage class="iconAction" library="img" name="link.png" alt="#{hh:label('labels', 'action.selectionner')}" title="#{hh:label('labels', 'action.selectionner')}" />
		<f:param name="skipRequired" value="true" />
	</h:commandLink>

	</span>

	<h:commandLink rendered="#{jsfCtrl.entity.links.shopArticleLUser.key != null and sessionCtrl.isActionRendered('SHOP_USER', 2)}" action="#{jsfCtrl.prepareSingleAction('shopUser', 2, 2, jsfCtrl.entity.links.shopArticleLUser.key, 'shopArticleLUser')}">
		<h:outputText value="#{jsfCtrl.entity.links.shopArticleLUser.readValue}" id="shopListInfos2_shopArticleLUser" title="#{jsfCtrl.getLabel('shopArticleLUser', 'shopListInfos2.shopArticleLUser')}" />
		<f:param name="skipRequired" value="true" />
	</h:commandLink>
	<h:outputText value="#{jsfCtrl.entity.links.shopArticleLUser.readValue}" id="shopListInfos2_shopArticleLUser-label" title="#{jsfCtrl.getLabel('shopArticleLUser', 'shopListInfos2.shopArticleLUser')}"
		rendered="#{jsfCtrl.entity.links.shopArticleLUser.key != null and !sessionCtrl.isActionRendered('SHOP_USER', 2)}" />

	<h:panelGroup rendered="#{!jsfCtrl.readonly('shopArticleLUser')}">
	<span class="link-actions-container">
	<a href="#" class="link-actions" onclick="return false;">
		<span class="ui-icon ui-icon-circle-triangle-s"></span>
	</a>
	<div class="link-actions-buttons">
		<ul>
		<li><h:commandLink rendered="#{jsfCtrl.entity.links.shopArticleLUser.key == null and sessionCtrl.isActionRendered('SHOP_USER', 0)}" action="#{jsfCtrl.prepareSingleAction('shopUser', 0, 0, jsfCtrl.entity.links.shopArticleLUser.key, 'shopArticleLUser')}">			<h:outputLabel value="#{hh:label('genLabels', 'SHOP_USER_ACTION_0')}" />
			<f:param name="skipRequired" value="true" />
		</h:commandLink></li>
		<li><h:commandLink rendered="#{jsfCtrl.entity.links.shopArticleLUser.key != null and sessionCtrl.isActionRendered('SHOP_USER', 2)}" action="#{jsfCtrl.prepareSingleAction('shopUser', 2, 2, jsfCtrl.entity.links.shopArticleLUser.key, 'shopArticleLUser')}">			<h:outputLabel value="#{hh:label('genLabels', 'SHOP_USER_ACTION_2')}" />
			<f:param name="skipRequired" value="true" />
		</h:commandLink></li>
		<li><h:commandLink rendered="#{jsfCtrl.entity.links.shopArticleLUser.key != null and sessionCtrl.isActionRendered('SHOP_USER', 4)}" action="#{jsfCtrl.prepareSingleAction('shopUser', 4, 4, jsfCtrl.entity.links.shopArticleLUser.key, 'shopArticleLUser')}">			<h:outputLabel value="#{hh:label('genLabels', 'SHOP_USER_ACTION_4')}" />
			<f:param name="skipRequired" value="true" />
		</h:commandLink></li>
		<li><h:commandLink rendered="#{jsfCtrl.entity.links.shopArticleLUser.key != null and sessionCtrl.isActionRendered('SHOP_USER', 5)}" action="#{jsfCtrl.prepareSingleAction('shopUser', 5, 5, jsfCtrl.entity.links.shopArticleLUser.key, 'shopArticleLUser')}">			<h:outputLabel value="#{hh:label('genLabels', 'SHOP_USER_ACTION_5')}" />
			<f:param name="skipRequired" value="true" />
		</h:commandLink></li>
		</ul>
	</div>
	</span>
	</h:panelGroup>

</h:panelGroup>

 
						</td>
					</tr>
				</table>
			</ui:fragment> 
	
		</td>

	</tr>

</table>

</h:panelGroup>

	
		</td>

	</tr>

</table>

</h:panelGroup>

	
		</td>

	</tr>

	<tr>
	
		<td class="group_table_col_1">
<ui:fragment rendered="#{jsfCtrl.isVisible('shopListLArticleLList')}"> 

<div class="mainTable_container" id="list_shopListLArticleLList_shopArticles2">

	<div class="table_title"><h:graphicImage library='img' name='close_content.gif' styleClass='actionContent' alt="close" /><h:outputText value="#{jsfCtrl.getLabel('shopListLArticleLList_SHOP_ARTICLES2', 'SHOP_ARTICLES2_LIST')}" /></div>
	
	<div class="table_container">
		
<div class="actions">
	<table style="width: 100%">
		<tr>
			<td style="text-align: left;" class="filter">
				<span class="filter-line">
					<span><h:outputText value="#{hh:label('labels', 'filtrer')}" /></span>
					<h:outputText value=" " />
					
					<h:inputText id="globalFilter_shopListLArticleLList_shopArticles2" value="#{jsfCtrl.jsFilterMap.SHOP_ARTICLES2}" onkeyup="showLines(null, this.value, 'shopListLArticleLList_shopArticles2')" class="filter" />
					
					<span id="filterCount_SHOP_ARTICLES2"> </span>
				</span>
			</td>
			<td style="text-align: right;"><span class="allActionButtons">
				<h:panelGroup rendered="#{!jsfCtrl.listIsReadOnly('shopListLArticleLList_SHOP_ARTICLES2')}">
					<h:commandButton id="shopListLArticleLList_shopArticles2_button0" alt='commandButton0' styleClass="btn_medium"
						rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 0) and !jsfCtrl.listIsProtected('shopListLArticleLList_SHOP_ARTICLES2')}"
						value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_0')}" action="#{jsfCtrl.prepareSingleAction('shopListLArticle', 0, 0, null, 'shopListLArticleLList', 'SHOP_ARTICLES2')}" />
					<h:outputText value=" " />
					<span class="listButtons" id="buttonshopListLArticleLList_shopArticles2">
						<h:commandButton id="shopListLArticleLList_shopArticles2_button2" alt='commandButton2' styleClass="btn_medium"
						rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 2) and !jsfCtrl.listIsProtected('shopListLArticleLList_SHOP_ARTICLES2')}"
						value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_2')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 2, 2, jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').selectedPk, 'shopListLArticleLList')}" />
						<h:outputText value=" " />
						<h:commandButton id="shopListLArticleLList_shopArticles2_button4" alt='commandButton4' styleClass="btn_medium"
						rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 4) and !jsfCtrl.listIsProtected('shopListLArticleLList_SHOP_ARTICLES2')}"
						value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_4')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 4, 4, jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').selectedPk, 'shopListLArticleLList')}" />
						<h:outputText value=" " />
						<h:commandButton id="shopListLArticleLList_shopArticles2_button5" alt='commandButton5' styleClass="btn_medium"
						rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 5)}"
						value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_5')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 5, 5, jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').selectedPk, 'shopListLArticleLList')}" />
						<h:outputText value=" " />
					</span>
				</h:panelGroup>

			</span></td>
		</tr>
	</table>
	<h:commandButton id="shopListLArticleLList_shopArticles2_launchAction" action="#{jsfCtrl.prepareLinkAction()}" style="display:none;"/> 
	<h:inputText id="shopListLArticleLList_shopArticles2_launchActionSelected" value="#{jsfCtrl.selectedRowEncodedKey}" style="display:none" />
	<h:inputText id="shopListLArticleLList_shopArticles2_launchActionEntity" value="#{jsfCtrl.launchActionEntity}" style="display:none" />
	<h:inputText id="shopListLArticleLList_shopArticles2_launchActionCode" value="#{jsfCtrl.launchActionCode}" style="display:none" />
	<h:inputText id="shopListLArticleLList_shopArticles2_launchActionType" value="#{jsfCtrl.launchActionType}" style="display:none" />
	<h:inputText id="shopListLArticleLList_shopArticles2_launchActionLink" value="#{jsfCtrl.launchActionLink}" style="display:none" />
	<h:inputHidden id="shopListLArticleLList_shopArticles2_launchActionList" value="#{jsfCtrl.launchActionList}" /> 
</div>

	
		<div class="results_container">
			<font color="red" style="font-style: italic;"><h:outputText value="#{hh:label('labels', 'results.nodata')}" rendered="#{empty jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').list}" /></font>

			<h:dataTable id="tableshopListLArticleLList_shopArticles2" columnClasses="first, default, default, numeric, defValue" rowClasses="odd,even"
				value="#{jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').list}" var="tempVar"
				rendered="#{not empty jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2')}"

				onRowClick="launchLinkAction('shopListLArticleLList', 'shopListLArticle', 2, 2, '#{tempVar.primaryKey.encodedValue}', 'shopListLArticleLList_SHOP_ARTICLES2');"
				readOnly="#{jsfCtrl.listIsReadOnly('shopListLArticleLList_SHOP_ARTICLES2')}">

				<h:column headerClass="first" rendered="#{!jsfCtrl.listIsReadOnly('shopListLArticleLList_SHOP_ARTICLES2')}">
					<f:facet name="header">
						<input type="checkbox" onclick="manageChecks(this, 'shopListLArticleLList_shopArticles2');" />
					</f:facet>

					<h:selectBooleanCheckbox value="#{tempVar.checked}" onclick="clickCheck(this, 'shopListLArticleLList_shopArticles2');"/>
					<input type="hidden" name="trdatashopListLArticleLList_shopArticles2" value="#{tempVar.filterField}"/>
				</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{jsfCtrl.getColumnLabel(jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').titles.T3_name, 'SHOP_ARTICLES2.shopShelf.name')}" />
						</f:facet>

						<h:outputLabel value="#{tempVar.T3_name}" />
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{jsfCtrl.getColumnLabel(jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').titles.T4_name, 'SHOP_ARTICLES2.shopArticle.name')}" />
						</f:facet>

						<h:outputLabel value="#{tempVar.T4_name}" />
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{jsfCtrl.getColumnLabel(jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').titles.T1_quantity, 'SHOP_ARTICLES2.shopListLArticle.quantity')}" />
						</f:facet>

						<h:outputLabel value="#{tempVar.T1_quantity}" />
					</h:column>

					<h:column>
						<f:facet name="header">
							<h:outputText value="#{jsfCtrl.getColumnLabel(jsfCtrl.entity.links.shopListLArticleLList.results('SHOP_ARTICLES2').titles.T1_status, 'SHOP_ARTICLES2.shopListLArticle.status')}" />
						</f:facet>

						<h:outputLabel value="#{tempVar.T1_status}" />
					</h:column>
				
			</h:dataTable>
		</div>
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
			datatableAlignColumns('shopListLArticleLList_shopArticles2');
		});
	</script>
</div>
 </ui:fragment>
	
		</td>

	</tr>

</table>

</h:panelGroup>


	<div class="actions bottomActions">
	<table style="width: 100%">
		<tr>
			<td style="text-align: right;">
				<h:commandButton id="validateAction2" rendered="#{!jsfCtrl.noValidateButton}" styleClass="btn_medium" value="#{hh:label('labels', 'boutons.valider')}" action="#{jsfCtrl.validate}"  onclick="if ($('#mainForm').submitted) { alert('Traitement en cours. Veuillez patienter...');return false;} else { $('#mainForm').submitted = true; return true; }" />
				<h:outputText value=" "/>
				<h:commandButton id="cancelAction2" immediate="true" styleClass="btn_medium" value="#{hh:label('labels', 'boutons.annuler')}" action="#{jsfCtrl.cancel}" onclick="return checkDirtyState(this);" />
			</td>
		</tr>
	</table>
	</div>
<script type="text/javascript">
$(document).ready(function() {
	try { 
		doPageCustomize('SHOP_LIST'); 
		$('td[class="first"]').click(function(event){
			event.stopPropagation();
		});
	} catch (e) {}
});
</script>

</ui:define>
</ui:composition>

