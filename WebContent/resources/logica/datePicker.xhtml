<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"

"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<head>
		<title>DatePicker</title>
	</head>

	<body>

		<composite:interface>
			<composite:attribute name="value" />
			<composite:attribute name="disabled" />
			<composite:attribute name="required" default="false" />
			<composite:attribute name="onchange" default="" />
			<composite:attribute name="converter" default="customDateTimeConverter" />
			<composite:attribute name="pattern" default="dd/MM/yyyy" />
			<composite:attribute name="patternjs" default="dd/mm/yy" />
			<composite:attribute name="styleClass" default="dateTime" />
			<composite:attribute name="size" default="10"/>
			<composite:attribute name="label"/>
			<composite:editableValueHolder name="input" targets="dateInput" />
		</composite:interface>

		<composite:implementation>


 			<h:inputText class="date-picker #{cc.attrs.styleClass}" value="#{cc.attrs.value}" id="dateInput" maxlength="#{cc.attrs.size}"
				disabled="#{cc.attrs.disabled}" required="#{cc.attrs.required}" autocomplete="off" label="#{cc.attrs.label}"
				onchange="completeDate(this);#{cc.attrs.onchange}" onkeypress="#{cc.attrs.onchange}">
				<f:converter converterId="#{cc.attrs.converter}" pattern="#{cc.attrs.pattern}"/>
				<composite:insertChildren />
			</h:inputText>

			<ui:fragment rendered="#{!cc.attrs.disabled}">
			<script type="text/javascript">
				$(document).ready(function() {
					$("#mainForm\\:#{cc.attrs.id}\\:dateInput").datepicker({
						altFormat: "#{cc.attrs.patternjs}",
						buttonImage: "#{application.contextPath}/javax.faces.resource/ico_cal.png.jsf?ln=img",
						buttonImageOnly: true,
						dateFormat: "#{cc.attrs.patternjs}",
						showButtonPanel: true,
						showOn: "button",
						showWeek: true
					});
				});
			</script>
			</ui:fragment>
		</composite:implementation>
	</body>
</html>