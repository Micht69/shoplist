
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" template="/templates/generic.xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:logica="http://java.sun.com/jsf/composite/logica" xmlns:hh="http://cgi.com/jsf/html" xmlns:p="http://primefaces.org/ui">

<ui:define name="metadata">
	<f:metadata>
		<f:attribute name="entityName" value="shopListLArticle" />
		<f:event type="preRenderView" listener="#{requestCtrl.initializeViewContext(jsfCtrl)}" />
		<f:event type="preRenderView" listener="#{jsfCtrl.initializeView}" />
	</f:metadata>
</ui:define>

<ui:define name="title"><h:outputText value="#{jsfCtrl.title}" /></ui:define>

<ui:define name="body">
	<div class="actions topActions">
	<table style="width: 100%">
		<tr>
			<td width="1%" style="text-align: left; white-space: nowrap;">
				<div id="advanced-actions">
					<h:panelGroup rendered="#{commentCtrl.commentsEnabled}">
						<h:commandLink id="commentAction" styleClass="btn_comment" value="#{commentCtrl.commentsCount('shopListLArticle', jsfCtrl.entity.primaryKey.encodedValue)}" title="#{jsfCtrl.getXhtmlLabel('labels', 'boutons.comment')}" onclick="commentPage();">
							<f:ajax event="click" execute="@none" render="comment-list" />
						</h:commandLink>
						<ui:include src="../includes/comment.xhtml" />
					</h:panelGroup>
					<h:outputText value=" "/>
					<h:commandButton id="printAction" styleClass="btn_print" image="../static/img/buttons/print.png" title="#{jsfCtrl.getXhtmlLabel('labels', 'boutons.print')}" onclick="window.print(); return false;" />
					<h:outputText value=" "/>
				</div>
			</td>
			<td width="99%" style="text-align: right; white-space: nowrap;">
				<h:commandButton id="validateAction" rendered="#{!jsfCtrl.displaySubActions()}" styleClass="btn_medium" value="#{jsfCtrl.getXhtmlLabel('labels', 'boutons.valider')}"
					action="#{jsfCtrl.validate}" onclick="if (actionClicked) { alert('Traitement en cours. Veuillez patienter...');return false;} else { actionClicked = true; return true; }" />
				<h:outputText value=" "/>
				<h:commandButton id="cancelAction" immediate="true" styleClass="btn_medium" value="#{jsfCtrl.getXhtmlLabel('labels', 'boutons.annuler')}"
					action="#{jsfCtrl.cancel}" onclick="return checkDirtyState(this);" />
			</td>
		</tr>
	</table>
	</div>
	<h:panelGroup id="i0_shopListLArticle" rendered="#{jsfCtrl.uiGroupPanel('', 'shopListLArticle', 'shopListLArticle').visible}" layout="none">
		<div class="group">
			<div class="col col-1">
				<ui:fragment rendered="#{jsfCtrl.isVisible('shopListLArticleLList')}">
					<div class="col-label">
						<h:outputLabel id="i0_shopListLArticle_0_shopListLArticleLList" escape="false" value="#{jsfCtrl.getLabel('shopListLArticleLList', 'shopListLArticle.0.shopListLArticleLList')}" title="#{jsfCtrl.getXhtmlLabel('tooltips', 'shopListLArticle.0.shopListLArticleLList')}"/>
						
						<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopListLArticleLList')}"/>
					</div>
					<div class="col-value">
						<h:selectOneMenu id="i1_shopListLArticle_0_shopListLArticleLList" disabledClass="disabledCombo" disabled="#{jsfCtrl.uiLinkCombo('shopListLArticleLList', 'shopList', 'SHOP_LIST').readonly}" value="#{jsfCtrl.uiLinkCombo('shopListLArticleLList', 'shopList', 'SHOP_LIST').selectedValue}"  label="#{jsfCtrl.getXhtmlLabel('genLabels', 'shopListLArticle.0.shopListLArticleLList')}" onchange="markAsDirty()">
						
							<f:selectItem noSelectionOption="true" itemLabel=" "/>
							<f:selectItems value="#{jsfCtrl.uiLinkCombo('shopListLArticleLList', 'shopList', 'SHOP_LIST').comboValues}" />
							<f:validateRequired disabled="#{param['skipRequired'] == true}" />
						</h:selectOneMenu>
					</div>
				</ui:fragment>
			</div>
			<div class="col col-1">
				<ui:fragment rendered="#{jsfCtrl.isVisible('shopListLArticleLArticle')}">
					<div class="col-label">
						<h:outputLabel id="i0_shopListLArticle_1_shopListLArticleLArticle" escape="false" value="#{jsfCtrl.getLabel('shopListLArticleLArticle', 'shopListLArticle.1.shopListLArticleLArticle')}" title="#{jsfCtrl.getXhtmlLabel('tooltips', 'shopListLArticle.1.shopListLArticleLArticle')}"/>
						
						<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopListLArticleLArticle')}"/>
					</div>
					<div class="col-value">
						<h:panelGroup styleClass="quickSearch">
						<h:commandLink rendered="#{!jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').readonly}" action="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').attach}" tabindex="-1">
							<h:graphicImage class="iconAction" library="img" name="link.png" alt="#{jsfCtrl.getXhtmlLabel('labels', 'action.selectionner')}" title="#{jsfCtrl.getXhtmlLabel('labels', 'action.selectionner')}" />
							<f:param name="skipRequired" value="true" />
						</h:commandLink>
						
							<h:panelGroup rendered="#{!jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').readonly}">
							<a href="#" class="link-actions" onclick="return false;" tabindex="-1">
								<span class="ui-icon ui-icon-circle-triangle-s"></span>
							</a>
							<div class="link-actions-buttons">
								<ul>
								<li><h:commandLink rendered="#{!(jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').targetEntity != null) and sessionCtrl.isActionRendered('shopArticle', 0)}" action="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').prepareActionCode(0)}" tabindex="-1">			<h:outputLabel value="#{jsfCtrl.getXhtmlLabel('genLabels', 'SHOP_ARTICLE_ACTION_0')}" />
									<f:param name="skipRequired" value="true" />
								</h:commandLink></li>
								<li><h:commandLink rendered="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').targetEntity != null and sessionCtrl.isActionRendered('shopArticle', 2)}" action="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').prepareActionCode(2)}" tabindex="-1">			<h:outputLabel value="#{jsfCtrl.getXhtmlLabel('genLabels', 'SHOP_ARTICLE_ACTION_2')}" />
									<f:param name="skipRequired" value="true" />
								</h:commandLink></li>
								<li><h:commandLink rendered="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').targetEntity != null and sessionCtrl.isActionRendered('shopArticle', 4)}" action="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').prepareActionCode(4)}" tabindex="-1">			<h:outputLabel value="#{jsfCtrl.getXhtmlLabel('genLabels', 'SHOP_ARTICLE_ACTION_4')}" />
									<f:param name="skipRequired" value="true" />
								</h:commandLink></li>
								<li><h:commandLink rendered="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').targetEntity != null and sessionCtrl.isActionRendered('shopArticle', 5)}" action="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').prepareActionCode(5)}" tabindex="-1">			<h:outputLabel value="#{jsfCtrl.getXhtmlLabel('genLabels', 'SHOP_ARTICLE_ACTION_5')}" />
									<f:param name="skipRequired" value="true" />
								</h:commandLink></li>
								<li><h:commandLink rendered="#{!(jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').targetEntity != null) and sessionCtrl.isActionRendered('shopArticle', 50)}" action="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').prepareActionCode(50)}" tabindex="-1">			<h:outputLabel value="#{jsfCtrl.getXhtmlLabel('genLabels', 'SHOP_ARTICLE_ACTION_50')}" />
									<f:param name="skipRequired" value="true" />
								</h:commandLink></li>
								</ul>
							</div>
							</h:panelGroup>
						
						<hh:autocomplete id="i1_shopListLArticle_1_shopListLArticleLArticle" minLength="2" model="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE')}" value="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').description}"
							label="#{jsfCtrl.getLabel('shopListLArticleLArticle', 'shopListLArticle.1.shopListLArticleLArticle')}" 
							rendered="#{!jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').readonly}" />
						<h:inputHidden id="i1_shopListLArticle_1_shopListLArticleLArticle-key" value="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').encodedValue}" label="#{jsfCtrl.getLabel('shopListLArticleLArticle', 'shopListLArticle.1.shopListLArticleLArticle')}">
						
							<f:validateRequired disabled="#{param['skipRequired'] == true}" />
						</h:inputHidden>
						<script type="text/javascript">
						$(document).ready(function() {
							$("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle").autocomplete({
								select: function(event, ui) {
							
									if (ui.item.value != -1) {
										$("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle-key").attr('value', ui.item.value);
										$("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle").attr('value', ui.item.label);
										markAsDirty($("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle-key"));
									} else {
										$("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle-key").attr('value', '');
									}
									return false;
								}
							
							});
						
							$("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle").keyup(function(event) {
							
								if (!event.target.value) {
									$("#mainForm\\:i1_shopListLArticle_1_shopListLArticleLArticle-key").attr('value', "");
								}
							});
						});
						</script>
						</h:panelGroup>
						<h:outputText id="i2_shopListLArticle_1_shopListLArticleLArticle" title="#{jsfCtrl.getLabel('shopListLArticleLArticle', 'shopListLArticle.1.shopListLArticleLArticle')}" 
							value="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').description}" 
							rendered="#{jsfCtrl.uiLinkQuickSearch('shopListLArticleLArticle', 'shopArticle', 'SHOP_ARTICLE').readonly}" />
					</div>
				</ui:fragment>
			</div>
			<div class="col col-1">
				<ui:fragment rendered="#{jsfCtrl.isVisible('shopListLArticle.quantity')}">
					<div class="col-label">
						<h:outputLabel id="i1_shopListLArticle_shopListLArticle_quantity" escape="false" value="#{jsfCtrl.getLabel('shopListLArticle.quantity', 'shopListLArticle.shopListLArticle.quantity')}" title="#{jsfCtrl.getXhtmlLabel('tooltips', 'shopListLArticle.shopListLArticle.quantity')}"/>
						<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopListLArticle.quantity')}"/>
					</div>
					<div class="col-value">
						<h:inputText style=""  disabled="#{jsfCtrl.readonly('','shopListLArticle','quantity')}" id="i0_shopListLArticle_shopListLArticle_quantity" value="#{jsfCtrl.entity.quantity}" label="#{jsfCtrl.getLabel('shopListLArticle.quantity', 'shopListLArticle.quantity')}" maxlength="3" onkeypress="markAsDirty(this)">
							<f:validateRequired disabled="#{param['skipRequired'] == true}" />
							<f:validateLength maximum="3" />
						</h:inputText>
						<h:message for="i0_shopListLArticle_shopListLArticle_quantity" styleClass="errorLabel" />
					</div>
				</ui:fragment>
			</div>
			<div class="col col-1">
				<ui:fragment rendered="#{jsfCtrl.isVisible('shopListLArticle.status')}">
					<div class="col-label">
						<h:outputLabel id="i1_shopListLArticle_shopListLArticle_status" escape="false" value="#{jsfCtrl.getLabel('shopListLArticle.status', 'shopListLArticle.shopListLArticle.status')}" title="#{jsfCtrl.getXhtmlLabel('tooltips', 'shopListLArticle.shopListLArticle.status')}"/>
						<h:outputLabel value="*" styleClass="mandatory_label" rendered="#{jsfCtrl.isMandatory('shopListLArticle.status')}"/>
					</div>
					<div class="col-value">
						<h:selectOneMenu disabledClass="disabledCombo" disabled="#{jsfCtrl.readonly('shopListLArticle.status')}" id="i0_shopListLArticle_shopListLArticle_status" value="#{jsfCtrl.entity.status}" label="#{jsfCtrl.getLabel('shopListLArticle.status', 'shopListLArticle.status')}"  onchange="markAsDirty(this)">
						
							<f:selectItems value="#{jsfCtrl.enumValues(jsfCtrl.entity,'status')}" />
						</h:selectOneMenu>
						<h:message for="i0_shopListLArticle_shopListLArticle_status" styleClass="errorLabel" />
					</div>
				</ui:fragment>
			</div>
		</div>
	</h:panelGroup>
	<div class="actions bottomActions">
	<table style="width: 100%">
		<tr>
			<td style="text-align: right;">
				<h:commandButton id="validateAction2" rendered="#{!jsfCtrl.displaySubActions()}" styleClass="btn_medium" value="#{jsfCtrl.getXhtmlLabel('labels', 'boutons.valider')}"
					action="#{jsfCtrl.validate}"  onclick="if (actionClicked) { alert('Traitement en cours. Veuillez patienter...');return false;} else { actionClicked = true; return true; }" />
				<h:outputText value=" "/>
				<h:commandButton id="cancelAction2" immediate="true" styleClass="btn_medium" value="#{jsfCtrl.getXhtmlLabel('labels', 'boutons.annuler')}"
					action="#{jsfCtrl.cancel}" onclick="return checkDirtyState(this);" />
			</td>
		</tr>
	</table>
	</div>
	<script type="text/javascript">
	$(document).ready(function() {
		try { 
			<h:outputText value="doPageCustomize('SHOP_LIST_L_ARTICLE');" rendered="#{!sessionCtrl.disableJS}"/>
			$('td[class="first"]').click(function(event){
				event.stopPropagation();
			});
		} catch (e) {}
	});
</script>
</ui:define>
</ui:composition>

