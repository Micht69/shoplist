
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" template="/templates/generic.xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:logica="http://java.sun.com/jsf/composite/logica" xmlns:hh="http://cgi.com/jsf/html" xmlns:p="http://primefaces.org/ui">

<ui:define name="metadata">
	<f:metadata>
		<f:event type="preRenderView" listener="#{jsfCtrl.prepareUiAccess('mainForm:criterias')}" />
	</f:metadata>
</ui:define>

<ui:define name="title"><h:outputText value="#{jsfCtrl.title}" /></ui:define>

<ui:define name="body">
	<input type="hidden" value="SHOP_LIST_L_ARTICLE" id="tableIdList" />
	<div class="content_title">

	<div class="ui-accordion ui-widget ui-helper-reset ui-accordion-icons developed">
		<h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-state-active ui-corner-top" onclick="displayResults();">
			<table style="width: 100%; height: 100%;">
				<tr>
					<td class="open-close-image">
						<span id="openResultats" style="display: none"><h:graphicImage library="img" name="open_content.gif" alt="open" /></span>
						<span id="closeResultats" style="display: block"><h:graphicImage library="img" name="close_content.gif" alt="close" /></span>
					</td>
					<td class="accordion-title"><h:outputText value="#{hh:label('labels', 'liste.resultats')}" /></td>
					<td class="accordion-title-description"><h:outputText id="resultCount" value="#{jsfCtrl.resultCount}" /><h:outputText value="#{jsfCtrl.totalResultCount}" /></td>
				</tr>
			</table>
		</h3>

		<div id="resultatsBody">

		<div class="table_container">
		
		
<div class="actions">
	<table style="width: 100%">
		<tr>
			<td style="text-align: left;">
				<span class="filter-line">
					<span><h:outputText value="#{hh:label('labels', 'filtrer')}" /></span>
					<h:outputText value=" " />
					<h:inputText id="globalFilter_SHOP_LIST_L_ARTICLE" value="#{jsfCtrl.jsFilterMap.SHOP_LIST_L_ARTICLE}" onkeyup="showLines(null, this.value, 'SHOP_LIST_L_ARTICLE')" class="filter" />
					<span id="filterCount_SHOP_LIST_L_ARTICLE"> </span>
				</span>
			</td>
			<td style="text-align: right;"><span class="allActionButtons">
				<h:panelGroup rendered="#{!jsfCtrl.select}">

					<h:commandButton id="SHOP_LIST_L_ARTICLE_button0" alt='commandButton0' styleClass="btn_medium"
						rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 0)}"
						value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_0')}" action="#{jsfCtrl.prepareSingleAction('shopListLArticle', 0, 0, null, null)}" />

					<h:commandButton id="SHOP_LIST_L_ARTICLE_button51" alt='commandButton51' styleClass="btn_medium"
						rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 51)}"
						value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_51')}" action="#{jsfCtrl.prepareSingleAction('shopListLArticle', 51, 0, null, null)}" />

					<span class="listButtons" id="buttonSHOP_LIST_L_ARTICLE">

						<h:commandButton id="SHOP_LIST_L_ARTICLE_button2" alt='commandButton2' styleClass="btn_medium"
							rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 2)}"
							value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_2')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 2, 2, jsfCtrl.results.selectedPk, null)}" />

						<h:commandButton id="SHOP_LIST_L_ARTICLE_button4" alt='commandButton4' styleClass="btn_medium"
							rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 4)}"
							value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_4')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 4, 4, jsfCtrl.results.selectedPk, null)}" />

						<h:commandButton id="SHOP_LIST_L_ARTICLE_button5" alt='commandButton5' styleClass="btn_medium"
							rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 5)}"
							value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_5')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 5, 5, jsfCtrl.results.selectedPk, null)}" />

						<h:commandButton id="SHOP_LIST_L_ARTICLE_button50" alt='commandButton50' styleClass="btn_medium"
							rendered="#{sessionCtrl.isActionRendered('SHOP_LIST_L_ARTICLE', 50)}"
							value="#{hh:label('genLabels', 'SHOP_LIST_L_ARTICLE_ACTION_50')}" action="#{jsfCtrl.prepareMultiAction('shopListLArticle', 50, 10, jsfCtrl.results.selectedPk, null)}" />

					</span>
				</h:panelGroup>


				<h:commandButton id="SHOP_LIST_L_ARTICLE_buttonXls" alt='commandButtonXlsExport' styleClass="btn_medium" rendered="#{!jsfCtrl.select}" value="#{hh:label('labels', 'boutons.exportExcel')}" action="#{jsfCtrl.prepareExport('xls')}" />


	<h:panelGroup rendered="#{jsfCtrl.select}">
		<span class="listButtons" id="buttonSHOP_LIST_L_ARTICLE">
			<h:commandButton id="SHOP_LIST_L_ARTICLE_buttonSelect" alt="commandButtonSelect" styleClass="btn_medium" value="#{hh:label('labels', 'action.selectionner')}" action="#{jsfCtrl.select(jsfCtrl.results.selectedPk)}"/>
		</span>
		<h:commandButton id="SHOP_LIST_L_ARTICLE_buttonCancel" alt="cancelButtonSelect" styleClass="btn_medium" value="#{hh:label('labels', 'action.annuler')}" action="#{jsfCtrl.cancel}"/>
	</h:panelGroup>
	
			</span></td>
		</tr>
	</table>

	<h:commandButton id="launchAction" action="#{jsfCtrl.prepareDefaultAction('2,4,5,50')}" style="display:none;"/> 
	<h:inputText id="launchActionSelected" value="#{jsfCtrl.selectedRowEncodedKey}" style="display:none" />
</div>

	
			<div class="list_results_container">
				<font color="red" style="font-style: italic;"><h:outputText value="#{hh:label('labels', 'results.nodata')}" rendered="#{empty jsfCtrl.results.list}" /></font>

				
				<h:dataTable id="tableSHOP_LIST_L_ARTICLE"
						columnClasses="first, numeric, numeric, numeric, defValue" rowClasses="odd,even"
						value="#{jsfCtrl.results.list}" var="tempVar"
						rendered="#{not empty jsfCtrl.results}"
						onRowClick="launchAction('#{tempVar.primaryKey.encodedValue}');">

					<h:column headerClass="first">
						<f:facet name="header"><input type="checkbox" onclick="manageChecks(this, 'SHOP_LIST_L_ARTICLE');" /></f:facet>
						<h:selectBooleanCheckbox value="#{tempVar.checked}" onclick="clickCheck(this, 'SHOP_LIST_L_ARTICLE');"/>
						<input type="hidden" name="trdataSHOP_LIST_L_ARTICLE" value="#{tempVar.filterField}"/>
					</h:column>			

					<h:column>

							 
						<f:facet name="header">
							<h:commandLink action="#{jsfCtrl.sortBy('listId')}">
								<h:outputText value="#{jsfCtrl.results.titles.T1_listId}" />
							</h:commandLink>
							<h:outputText value=" " />
							<h:graphicImage library="img" name="ico_up_on.png" rendered="#{jsfCtrl.sortAscBy('listId')}" alt="up" />
							<h:graphicImage library="img" name="ico_down_on.png" rendered="#{jsfCtrl.sortDescBy('listId')}" alt="down" />
						</f:facet>
							 			
						<h:outputLabel value="#{tempVar.T1_listId}" />
					</h:column>

					<h:column>

							 
						<f:facet name="header">
							<h:commandLink action="#{jsfCtrl.sortBy('articleId')}">
								<h:outputText value="#{jsfCtrl.results.titles.T1_articleId}" />
							</h:commandLink>
							<h:outputText value=" " />
							<h:graphicImage library="img" name="ico_up_on.png" rendered="#{jsfCtrl.sortAscBy('articleId')}" alt="up" />
							<h:graphicImage library="img" name="ico_down_on.png" rendered="#{jsfCtrl.sortDescBy('articleId')}" alt="down" />
						</f:facet>
							 			
						<h:outputLabel value="#{tempVar.T1_articleId}" />
					</h:column>

					<h:column>

							 
						<f:facet name="header">
							<h:commandLink action="#{jsfCtrl.sortBy('quantity')}">
								<h:outputText value="#{jsfCtrl.results.titles.T1_quantity}" />
							</h:commandLink>
							<h:outputText value=" " />
							<h:graphicImage library="img" name="ico_up_on.png" rendered="#{jsfCtrl.sortAscBy('quantity')}" alt="up" />
							<h:graphicImage library="img" name="ico_down_on.png" rendered="#{jsfCtrl.sortDescBy('quantity')}" alt="down" />
						</f:facet>
							 			
						<h:outputLabel value="#{tempVar.T1_quantity}" />
					</h:column>

					<h:column>

							 
						<f:facet name="header">
							<h:commandLink action="#{jsfCtrl.sortBy('status')}">
								<h:outputText value="#{jsfCtrl.results.titles.T1_status}" />
							</h:commandLink>
							<h:outputText value=" " />
							<h:graphicImage library="img" name="ico_up_on.png" rendered="#{jsfCtrl.sortAscBy('status')}" alt="up" />
							<h:graphicImage library="img" name="ico_down_on.png" rendered="#{jsfCtrl.sortDescBy('status')}" alt="down" />
						</f:facet>
							 			
						<h:outputLabel value="#{tempVar.T1_status}" />
					</h:column>
					<f:facet name="footer">
						<h:commandButton image="/static/img/buttons/plus.png" rendered="#{jsfCtrl.results.list.size() &lt; jsfCtrl.results.resultSetCount}" styleClass="btn_more_lines" title="#{hh:label('labels', 'liste.data.more')}">
							<f:ajax event="click" render=":mainForm:messages :mainForm:resultCount tableSHOP_LIST_L_ARTICLE" listener="#{jsfCtrl.moreLines(jsfCtrl.results)}"/> 
						</h:commandButton>
					</f:facet>
				</h:dataTable>
				


			</div>
		</div>
		</div>
	</div>
	</div>
<script type="text/javascript">
$(document).ready(function() {
	try {
		initList('SHOP_LIST_L_ARTICLE');
		#{sessionCtrl.page.displayCriterias ? 'listInitialized = false;' : ''}
		doListCustomize('SHOP_LIST_L_ARTICLE', 'SHOP_LIST_L_ARTICLE_LIST');
		showLines(null, '#{jsfCtrl.jsFilterMap.SHOP_LIST_L_ARTICLE}', 'SHOP_LIST_L_ARTICLE');
	} catch (e) {}
});
</script>
</ui:define>
</ui:composition>

